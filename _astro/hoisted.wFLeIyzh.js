function I(e,t){e.classList.toggle(t)}function O(e,t){return e.classList.contains(t)}function _(){return O(document.documentElement,"dark")}const C="modulepreload",D=function(e){return"/"+e},y={},r=function(t,n,o){let c=Promise.resolve();if(n&&n.length>0){const i=document.getElementsByTagName("link");c=Promise.all(n.map(s=>{if(s=D(s),s in y)return;y[s]=!0;const u=s.endsWith(".css"),S=u?'[rel="stylesheet"]':"";if(!!o)for(let d=i.length-1;d>=0;d--){const m=i[d];if(m.href===s&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${S}`))return;const l=document.createElement("link");if(l.rel=u?"stylesheet":C,u||(l.as="script",l.crossOrigin=""),l.href=s,document.head.appendChild(l),u)return new Promise((d,m)=>{l.addEventListener("load",d),l.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}return c.then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};typeof process<"u"&&process.stdout&&process.stdout.isTTY;const{replace:M}="",P=/[&<>'"]/g,k={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},$=e=>k[e],B=e=>M.call(e,P,$);function Q(e){return!!e&&typeof e=="object"&&typeof e.then=="function"}async function*V(e){const t=e.getReader();try{for(;;){const{done:n,value:o}=await t.read();if(n)return;yield o}}finally{t.releaseLock()}}const X=B;class T extends Uint8Array{}Object.defineProperty(T.prototype,Symbol.toStringTag,{get(){return"HTMLBytes"}});class b extends String{get[Symbol.toStringTag](){return"HTMLString"}}const a=e=>e instanceof b?e:typeof e=="string"?new b(e):e;function ee(e){return Object.prototype.toString.call(e)==="[object HTMLString]"}function H(e){return new T(e)}function v(e){return typeof e.getReader=="function"}async function*E(e){if(v(e))for await(const t of V(e))yield f(t);else for await(const t of e)yield f(t)}function*x(e){for(const t of e)yield f(t)}function f(e){if(e&&typeof e=="object"){if(e instanceof Uint8Array)return H(e);if(e instanceof Response&&e.body){const t=e.body;return E(t)}else{if(typeof e.then=="function")return Promise.resolve(e).then(t=>f(t));if(e[Symbol.for("astro:slot-string")])return e;if(Symbol.iterator in e)return x(e);if(Symbol.asyncIterator in e||v(e))return E(e)}}return a(e)}function L(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=L(e[t]))&&(o&&(o+=" "),o+=n);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function j(){for(var e,t,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(t=L(e))&&(o&&(o+=" "),o+=t);return o}const q=/^(?:allowfullscreen|async|autofocus|autoplay|controls|default|defer|disabled|disablepictureinpicture|disableremoteplayback|formnovalidate|hidden|loop|nomodule|novalidate|open|playsinline|readonly|required|reversed|scoped|seamless|itemscope)$/i,U=/^(?:contenteditable|draggable|spellcheck|value)$/i,W=/^(?:autoReverse|externalResourcesRequired|focusable|preserveAlpha)$/i,G=new Set(["set:html","set:text"]),p=(e,t=!0)=>t?String(e).replace(/&/g,"&#38;").replace(/"/g,"&#34;"):e,F=e=>e.toLowerCase()===e?e:e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`),w=e=>Object.entries(e).filter(([t,n])=>typeof n=="string"&&n.trim()||typeof n=="number").map(([t,n])=>t[0]!=="-"&&t[1]!=="-"?`${F(t)}:${n}`:`${t}:${n}`).join(";");function te(e,t,n=!0){if(e==null)return"";if(e===!1)return U.test(t)||W.test(t)?a(` ${t}="false"`):"";if(G.has(t))return console.warn(`[astro] The "${t}" directive cannot be applied dynamically at runtime. It will not be rendered as an attribute.

Make sure to use the static attribute syntax (\`${t}={value}\`) instead of the dynamic spread syntax (\`{...{ "${t}": value }}\`).`),"";if(t==="class:list"){const o=p(j(e),n);return o===""?"":a(` ${t.slice(0,-5)}="${o}"`)}if(t==="style"&&!(e instanceof b)){if(Array.isArray(e)&&e.length===2)return a(` ${t}="${p(`${w(e[0])};${e[1]}`,n)}"`);if(typeof e=="object")return a(` ${t}="${p(w(e),n)}"`)}return t==="className"?a(` class="${p(e,n)}"`):e===!0&&(t.startsWith("data-")||q.test(t))?a(` ${t}`):a(` ${t}="${p(e,n)}"`)}function ne(e){const t=[],n={write:c=>t.push(c)},o=e(n);return Promise.resolve(o).catch(()=>{}),{async renderToFinalDestination(c){for(const i of t)c.write(i);n.write=i=>c.write(i),await o}}}typeof process<"u"&&Object.prototype.toString.call(process);new TextEncoder;new TextDecoder;function oe(e){return!!e&&typeof e=="object"&&"render"in e&&typeof e.render=="function"}"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);"-0123456789_".split("").reduce((e,t)=>(e[t.charCodeAt(0)]=t,e),[]);function h({globResult:e,contentDir:t}){const n={};for(const o in e){const i=o.replace(new RegExp(`^${t}`),"").split("/");if(i.length<=1)continue;const s=i[0];n[s]??={},n[s][o]=e[o]}return n}const g="/src/content/",R=Object.assign({"/src/content/post/accelerate-image-startup.md":()=>r(()=>import("./accelerate-image-startup.0P_D_Iig.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-1.md":()=>r(()=>import("./building-gpu-service-1.g8RF_KlR.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-2.md":()=>r(()=>import("./building-gpu-service-2.hHf1hGQ8.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-3.md":()=>r(()=>import("./building-gpu-service-3.yb2UCeN0.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-4.md":()=>r(()=>import("./building-gpu-service-4.sOf-Q9cJ.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>r(()=>import("./ceph-mds.HjegPZ29.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>r(()=>import("./golang-http-url.LQXcq2Z_.js"),__vite__mapDeps([])),"/src/content/post/reduce-image-size.md":()=>r(()=>import("./reduce-image-size.8nNs_e11.js"),__vite__mapDeps([]))});h({globResult:R,contentDir:g});const A=Object.assign({});h({globResult:A,contentDir:g});h({globResult:{...R,...A},contentDir:g});const N=Object.assign({"/src/content/post/accelerate-image-startup.md":()=>r(()=>import("./accelerate-image-startup.3XxXLfli.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-1.md":()=>r(()=>import("./building-gpu-service-1.NyrhVD7n.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-2.md":()=>r(()=>import("./building-gpu-service-2.4t7qNS8F.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-3.md":()=>r(()=>import("./building-gpu-service-3.UjVae2Ig.js"),__vite__mapDeps([])),"/src/content/post/building-gpu-service-4.md":()=>r(()=>import("./building-gpu-service-4.kvgKKvP1.js"),__vite__mapDeps([])),"/src/content/post/ceph-mds.md":()=>r(()=>import("./ceph-mds.2dxcPfYR.js"),__vite__mapDeps([])),"/src/content/post/golang-http-url.md":()=>r(()=>import("./golang-http-url.l16pLZ98.js"),__vite__mapDeps([])),"/src/content/post/reduce-image-size.md":()=>r(()=>import("./reduce-image-size.-2gGSn4K.js"),__vite__mapDeps([]))});h({globResult:N,contentDir:g});console.warn("astro:content is only supported running server-side. Using it in the browser will lead to bloated bundles and slow down page load. In the future it will not be supported.");const K="https://astro-cactus.chriswilliams.dev/";new URL(K).hostname;class z extends HTMLElement{headerEl;mobileButtonEl;menuOpen;constructor(){super(),this.headerEl=document.getElementById("main-header"),this.mobileButtonEl=this.querySelector("button"),this.menuOpen=!1,this.mobileButtonEl.addEventListener("click",this.toggleMobileMenu)}toggleMobileMenu=()=>{I(this.headerEl,"menu-open"),this.menuOpen=!this.menuOpen,this.mobileButtonEl.setAttribute("aria-expanded",this.menuOpen.toString())}}customElements.define("mobile-button",z);class Y extends HTMLElement{button;observer;constructor(){super(),this.button=this.querySelector("button"),this.observer=null,this.button.setAttribute("aria-pressed",String(_())),this.button.addEventListener("click",this.handleThemeBtnClick)}connectedCallback(){const t=document.documentElement;this.observer=new MutationObserver(n=>{for(const o of n)if(o.type==="attributes"&&o.attributeName==="class"){const c=o.target.classList.contains("dark");this.button.setAttribute("aria-pressed",String(c))}}),this.observer.observe(t,{attributeFilter:["class"]})}disconnectedCallback(){this.observer?.disconnect()}handleThemeBtnClick=()=>{let t=_(),n=new CustomEvent("theme-change",{detail:{theme:t?"light":"dark"}});document.dispatchEvent(n)}}customElements.define("theme-toggle",Y);class Z extends HTMLElement{openBtn;closeBtn;dialog;dialogFrame;constructor(){super(),this.openBtn=this.querySelector("button[data-open-modal]"),this.closeBtn=this.querySelector("button[data-close-modal]"),this.dialog=this.querySelector("dialog"),this.dialogFrame=this.querySelector(".dialog-frame"),this.openBtn.addEventListener("click",this.openModal),this.openBtn.disabled=!1,this.closeBtn.addEventListener("click",this.closeModal)}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await r(()=>import("./ui-core.rcFNOh_C.js"),__vite__mapDeps([]));new n({element:"#cactus__search",baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",showImages:!1,showSubResults:!0})})}disconnectedCallback(){window.removeEventListener("keydown",this.onWindowKeydown)}onWindowClick=t=>{("href"in(t.target||{})||document.body.contains(t.target)&&!this.dialogFrame.contains(t.target))&&this.closeModal()};onWindowKeydown=t=>{t.key==="/"&&!this.dialog.open&&(this.openModal(),t.preventDefault())};openModal=t=>{this.dialog.showModal(),this.querySelector("input")?.focus(),t?.stopPropagation(),window.addEventListener("click",this.onWindowClick)};closeModal=()=>{this.dialog.open&&(this.dialog.close(),window.removeEventListener("click",this.onWindowClick))}}customElements.define("site-search",Z);export{b as H,r as _,oe as a,Q as b,te as c,X as e,ee as i,a as m,ne as r,f as u};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
